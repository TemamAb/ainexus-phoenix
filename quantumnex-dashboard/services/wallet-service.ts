import { ethers } from 'ethers'\n\nexport async function getProvider(rpcUrl?: string) {\n  if (typeof window !== 'undefined' && (window as any).ethereum) {\n    return new ethers.BrowserProvider((window as any).ethereum)\n  }\n  if (rpcUrl) return new ethers.JsonRpcProvider(rpcUrl)\n  return null\n}\n\nexport async function getBalance(address: string, provider?: ethers.providers.Provider) {\n  if (!provider) return null\n  try {\n    const b = await provider.getBalance(address)\n    return ethers.formatEther(b)\n  } catch (e) {\n    console.error(e)\n    return null\n  }\n}